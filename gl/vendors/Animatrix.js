var Animatrix;Animatrix={version:"4.0 - Fuzzy Avenger",slides:[],dom:{},hashPrefix:"#/",mousewheelControl:!0,mousewheelControlStrength:.1,keyboardControl:!0,keyboardControlInterval:1e3,pagination:!0,currentSlide:"",transitionTime:1500,mouseParallax:!0,orientationParallax:!0},Animatrix.checkForTouch=function(){return navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/Android/i)?Animatrix.isTouchDevice=!0:void 0},Animatrix.setHash=function(){var i;return i=$(".slide.active").attr("id"),window.location.hash=Animatrix.hashPrefix+i},window.onhashchange=function(){var i;return i=window.location.hash.replace("/","").replace("#",""),Animatrix.goTo(i)},Animatrix.goTo=function(i){var t,n,a,r,o,e,s,m,l,d,x,u,A;if(!$("#"+i).length>0)return void console.log("Slide not found: "+i);if(!Animatrix.blockInput){if(Animatrix.transitionType?(n="in in-"+Animatrix.transitionType,s="out out-"+Animatrix.transitionType):(n="in in-link",s="out out-link"),a=n.split(" "),m=s.split(" "),Animatrix.transitionType=void 0,o=$(".slide.active"),r=$("#"+i),e=o.attr("id"),$("body").removeClass(o.attr("id")),$("body").addClass(i),Animatrix.pagination&&$("#pagination .link").removeClass("active"),Animatrix.pagination&&$('#pagination .link[data-title="'+r.data("title")+'"]').addClass("active"),o.attr("id")&&(l="on"+o.attr("id").substring(0,1).toUpperCase()+o.attr("id").substring(1).toLowerCase()+"Out",window[l]&&window[l]()),l="on"+i.substring(0,1).toUpperCase()+i.substring(1).toLowerCase()+"In",window[l]&&window[l](),Animatrix.blockInput=!0,o.addClass(s).removeClass("active"),r.show().addClass(n+" active"),Animatrix.slideEvents){for(d=0,u=m.length;u>d;d++)t=m[d],Animatrix.slideEvents[e+"-"+t]&&Animatrix.slideEvents[e+"-"+t]();for(x=0,A=a.length;A>x;x++)t=a[x],Animatrix.slideEvents[i+"-"+t]&&Animatrix.slideEvents[i+"-"+t]()}return setTimeout(function(){return o.hide().removeClass("in in-down in-up in-left in-right in-link out out-up out-down out-left out-right out-link"),r.removeClass("in in-down in-up in-left in-right in-link"),Animatrix.blockInput=!1,Animatrix.pagination?$('#pagination .link[data-title="'+r.data("title")+'"]').addClass("active"):void 0},Animatrix.slideTransitionTime)}},Animatrix.goDown=function(){var i;if(!Animatrix.blockInput&&(i=$(".slide.active").data("down")))return i.toString().indexOf(",")>0?(i=i.toString().split(","),Animatrix.slideTransitionTime=parseInt(i[1]),i=i[0]):Animatrix.slideTransitionTime=Animatrix.transitionTime,Animatrix.transitionType="down",window.location.hash=Animatrix.hashPrefix+i.replace("#","")},Animatrix.goUp=function(){var i;if(!Animatrix.blockInput&&(i=$(".slide.active").data("up")))return i.toString().indexOf(",")>0?(i=i.toString().split(","),Animatrix.slideTransitionTime=parseInt(i[1]),i=i[0]):Animatrix.slideTransitionTime=Animatrix.transitionTime,Animatrix.transitionType="up",window.location.hash=Animatrix.hashPrefix+i.replace("#","")},Animatrix.goLeft=function(){var i;if(!Animatrix.blockInput&&(i=$(".slide.active").data("left")))return i.toString().indexOf(",")>0?(i=i.toString().split(","),Animatrix.slideTransitionTime=parseInt(i[1]),i=i[0]):Animatrix.slideTransitionTime=Animatrix.transitionTime,Animatrix.transitionType="left",window.location.hash=Animatrix.hashPrefix+i.replace("#","")},Animatrix.goRight=function(){var i;if(!Animatrix.blockInput&&(i=$(".slide.active").data("right")))return i.toString().indexOf(",")>0?(i=i.toString().split(","),Animatrix.slideTransitionTime=parseInt(i[1]),i=i[0]):Animatrix.slideTransitionTime=Animatrix.transitionTime,Animatrix.transitionType="right",window.location.hash=Animatrix.hashPrefix+i.replace("#","")},Animatrix.setupLinkButtons=function(){return $(".go-right").click(function(){return Animatrix.goRight()}),$(".go-left").click(function(){return Animatrix.goLeft()}),$(".go-up").click(function(){return Animatrix.goUp()}),$(".go-down").click(function(){return Animatrix.goDown()}),$("*[data-goto]").click(function(){var i;if(!Animatrix.blockInput&&(i=$(this).data("goto")))return i.toString().indexOf(",")>0?(i=i.toString().split(","),Animatrix.slideTransitionTime=parseInt(i[1]),i=i[0]):Animatrix.slideTransitionTime=Animatrix.transitionTime,Animatrix.transitionType="link",window.location.hash=Animatrix.hashPrefix+i.replace("#","")})},Animatrix.setUpKeyboardControls=function(){return Animatrix.keyboardControl?$(document).keydown(function(){return 37===event.keyCode&&Animatrix.goLeft(),38===event.keyCode&&Animatrix.goUp(),39===event.keyCode&&Animatrix.goRight(),40===event.keyCode?Animatrix.goDown():void 0}):void 0},Animatrix.setupMousewheelControl=function(){return Animatrix.mousewheelControl?$(document).on("mousewheel",function(i){return Animatrix.disableMousewheel||Animatrix.blockInput?void 0:(i.deltaY>Animatrix.mousewheelControlStrength&&Animatrix.goUp(),i.deltaY<-Animatrix.mousewheelControlStrength?Animatrix.goDown():void 0)}):void 0},Animatrix.setupMouseParallax=function(){return Animatrix.mouseParallax&&!Animatrix.isTouchDevice?$(document).mousemove(function(i){return $("*[data-mouse-parallax]").each(function(){var t,n,a,r,o,e;return n=$(this).data("mouse-parallax"),n.toString().indexOf(",")>0?(n=n.toString().split(","),a=parseFloat(n[0]),r=n[0].indexOf("%")>0?"%":"px",o=parseFloat(n[1]),e=n[1].indexOf("%")>0?"%":"px"):(o=a=parseFloat(n),e=r=n.toString().indexOf("%")>0?"%":"px"),a*=(i.pageX-$(window).width()/2)/25,o*=(i.pageY-$(window).height()/2)/25,t="translate3d( "+a+"px, "+o+"px, 0 )",$(this).css({transform:t,"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t})})}):void 0},Animatrix.setupOrientationParallax=function(){return Animatrix.orientationParallax&&Animatrix.isTouchDevice?((0===window.orientation||180===window.orientation)&&(Animatrix.disableOrientationParallax=!0),$(window).resize(function(){return Animatrix.disableOrientationParallax=!0,0===window.orientation&&(Animatrix.windowPortraitMode=!0,Animatrix.orientationFlipVal=!1),180===window.orientation&&(Animatrix.windowPortraitMode=!0,Animatrix.orientationFlipVal=!0),90===window.orientation&&(Animatrix.windowPortraitMode=!1,Animatrix.orientationFlipVal=!1),-90===window.orientation?(Animatrix.windowPortraitMode=!1,Animatrix.orientationFlipVal=!0):void 0}),window.addEventListener("deviceorientation",function(i){return Animatrix.disableOrientationParallax?void 0:(Animatrix.gammaStartValue||(Animatrix.gammaStartValue=i.gamma),$("*[data-orientation-parallax]").each(function(){var t,n,a,r,o,e,s;return n=$(this).data("orientation-parallax"),n.toString().indexOf(",")>0?(n=n.toString().split(","),r=parseFloat(n[0]),o=n[0].indexOf("%")>0?"%":"px",e=parseFloat(n[1]),s=n[1].indexOf("%")>0?"%":"px"):(e=r=parseFloat(n),s=o=n.toString().indexOf("%")>0?"%":"px"),r*=i.beta/25,e*=(i.gamma-Animatrix.gammaStartValue)/25,Animatrix.windowPortraitMode&&(a=r,r=e,e=a),Animatrix.orientationFlipVal&&(r*=-1,e*=-1),t="translate3d( "+r+"px, "+e+"px, 0 )",$(this).css({transform:t,"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t})}))})):void 0},Animatrix.startTouchSystems=function(){return Animatrix.isTouchDevice?(FastClick.attach(document.body),$("body").touchwipe({wipeUp:function(){return Animatrix.goUp()},wipeDown:function(){return Animatrix.goDown()},wipeLeft:function(){return Animatrix.goRight()},wipeRight:function(){return Animatrix.goLeft()},min_move_x:20,min_move_y:20,preventDefaultEvents:!0})):void 0},Animatrix.buildPagination=function(){var i;if(Animatrix.pagination)return i='<div id="pagination">',$(".slide[data-title]").each(function(){return i+='<div class="link" data-goto="'+$(this).attr("id")+'" data-title="'+$(this).data("title")+'"></div>'}),i+="</div>",$("body").append(i)},Animatrix.showInitialSlide=function(){return $(".slide").hide(),window.location.hash.length>0?$(window).trigger("hashchange"):window.location.hash=Animatrix.hashPrefix+$(".slide:first-child").attr("id")},Animatrix.addSlideEvent=function(i,t,n){return i&&t&&n?(Animatrix.slideEvents||(Animatrix.slideEvents={}),Animatrix.slideEvents[i+"-"+t]=n):void 0},Animatrix.init=function(i){return $.extend(Animatrix,i),Animatrix.onInit&&Animatrix.onInit(),Animatrix.checkForTouch(),Animatrix.showInitialSlide(),Animatrix.buildPagination(),Animatrix.setUpKeyboardControls(),Animatrix.setupMousewheelControl(),Animatrix.setupMouseParallax(),Animatrix.setupOrientationParallax(),Animatrix.startTouchSystems(),Animatrix.setupLinkButtons(),$("#animatrix-scene").show(),Animatrix.onReady?Animatrix.onReady():void 0};